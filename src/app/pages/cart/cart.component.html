<h2 class="text-center mt-5"><b>Shopping Cart</b></h2>
<div class="mt-5 mb-5">
    <table class="table table-responsive" style="margin-left: 2rem;">
        <thead>
            <tr>
                <th style="width: 10%;">s.no</th>
                <th style="width: 20%;">Product Name</th>
                <th style="width: 20%;">Price</th>
                <th style="width: 20%;">Quantity</th>
                <th style="width: 20%;">Total</th>
                <th style="width: 10%;">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of cartItems; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ item.name }}</td>
                <td>&#x20B9;{{ item.price }}</td>
                <td style="position: relative;">
                    <div class="quantity-control d-flex align-items-center">
                        <button class="btn btn-secondary" (click)="decrementQuantity(item)">
                            <i class="bi bi-dash"></i>
                        </button>
                        <input type="number" [(ngModel)]="item.quantity" class="form-control text-center" min="1" />
                        <button class="btn btn-secondary" (click)="incrementQuantity(item)">
                            <i class="bi bi-plus"></i>
                        </button>
                    </div>
                </td>
                <td>&#x20B9;{{ item.total }}</td>
                <td>
                    <button class="btn btn-danger" (click)="removeFromCart(i)">
                        <i class="bi bi-trash"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <button class="btn buttonColor mt-3" data-toggle="modal" data-target=".bd-example-modal-lg">Checkout</button>
</div>


<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="buttonColor">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel"><b>ATREYAPURAM PUTHAREKULU</b></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <form [formGroup]="checkoutForm">
                    <div class="row">
                        <div class="col-md-6">
                            <!-- Contact Number Field -->
                            <div class="col-md-12 mb-3">
                                <div class="form-group col-sm-12">
                                    <label for="exampleInputEmail1">Contact Number:</label>
                                    <input type="text" formControlName="phone" id="phone"
                                        class="form-control form-control-lg thick" placeholder="Phone"
                                        [ngClass]="{'is-invalid': checkoutForm.get('phone')?.invalid && checkoutForm.get('phone')?.touched}">
                                    <div *ngIf="checkoutForm.get('phone')?.hasError('required') && checkoutForm.get('phone')?.touched"
                                        class="text-danger">
                                        Mobile number is required
                                    </div>
                                    <div *ngIf="checkoutForm.get('phone')?.hasError('pattern') && checkoutForm.get('phone')?.touched"
                                        class="text-danger">
                                        Phone number should contain exactly 10 numeric characters
                                    </div>
                                </div>

                            </div>

                            <!-- Email Field -->
                            <div class="col-md-12 mb-3">
                                <div class="form-group col-sm-12">
                                    <label for="exampleInputEmail1">Email:</label>
                                    <input type="email" formControlName="email" id="formEmail"
                                        class="form-control form-control-lg thick mb-2" placeholder="Enter email"
                                        [ngClass]="{'is-invalid': checkoutForm.get('email')?.invalid && checkoutForm.get('email')?.touched}">
                                    <label>
                                        <input type="checkbox" name="remember" class="mr-2" checked>Notify me with
                                        offers and updates
                                    </label>
                                    <div *ngIf="checkoutForm.get('email')?.hasError('required') && checkoutForm.get('email')?.touched"
                                        class="text-danger">
                                        Email is required
                                    </div>
                                    <div *ngIf="checkoutForm.get('email')?.hasError('email') && checkoutForm.get('email')?.touched"
                                        class="text-danger">
                                        Invalid email address
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 mb-3">
                                <div class="form-group col-sm-12" *ngIf="showCouponField">
                                    <label for="couponCode">Coupon Code</label>
                                    <input type="text" formControlName="couponCode" id="couponCode"
                                        class="form-control form-control-lg thick" placeholder="Enter coupon code">
                                </div>
                                <label for="showCoupon" (click)="toggleCouponField()" class="coupon ms-3">Have a coupon?</label>
                                <input type="checkbox" id="showCoupon" style="display: none;">
                            </div>

                        </div>

                        <div class="col-md-6 border-left">
                            <!-- Other fields in the second column can be added here -->
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>