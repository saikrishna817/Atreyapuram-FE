<div class="container-fluid">
  <h3 class="text-center mt-5 mb-3"><b>My Orders</b></h3>
  <div class="row justify-content-center">
    <div class="col-md-7 mt-5 mb-5" *ngIf="loading">
      <div class="text-center">
        <i class="fa fa-spinner fa-spin fa-3x"></i>
      </div>
    </div>
    <div class="col-md-7" *ngIf="!loading && orderedProducts && orderedProducts.length > 0">
      <div class="order" *ngFor="let order of orderedProducts; let i = index">
        <div class="card shadow mb-4 custom-card">
          <div class="bg-dark py-3">
            <h6 class="text-white m-0">&nbsp;&nbsp;# Order ID: {{ order.orderId }}</h6>
          </div>
          <div class="card-body custom-card-body">
            <div class="custom-product-details">
              <div class="row align-items-center" *ngFor="let product of order.products; let j = index">
                <div class="col-md-3">
                  <img class="img-fluid" [src]="'assets/AT-gallery10.jpg'" alt="product-{{ j }}-image">
                </div>
                <div class="col-md-7">
                  <h6><b>Product Details:</b></h6>
                  Product Name: <span class="text-secondary">{{ product.name }} </span><br>
                  Price:<span class="text-secondary"> â‚¹{{ product.price }}</span> <br>
                  Quantity: <span class="text-secondary"> {{ product.quantity }}</span>
                </div>
                <div class="col-md-2">
                  <!-- Status:<span class="text-secondary"> In Transit</span><br>
                  Payment:<span class="text-secondary"> Credit Card (**** 7343)</span> -->
                </div>
              </div>
            </div>
            <div class="card custom-address-card mt-3">
              <div class="card-body">
                <h6><b>Address Details:</b></h6>
                <div *ngIf="deliveryAddress && deliveryAddress.length > 0">
                  <p class="card-text" *ngFor="let address of deliveryAddress[i]">
                    Name: <span class="text-secondary">{{ address?.name || '----'}}</span><br>
                    Mobile: <span class="text-secondary">{{ address?.mobile || '----'}}</span><br>
                    Address: <span class="text-secondary">{{ address?.houseNumber }}, {{ address?.area }}, {{
                      address?.city }}, {{ address?.state }} - {{ address?.pincode }}</span>
                  </p>
                </div>

              </div>

            </div>
            <div class="custom-button-group mt-3">
              <button class="btn bg-dark text-white" data-toggle="modal" data-target="#cancelOrderModal">Cancel Order</button>
              <button class="btn bg-dark text-white" [routerLink]="['/trackOrder', order.orderId]">Track Order</button>
            </div>
            <div class="modal fade" id="cancelOrderModal" tabindex="-1" role="dialog" aria-labelledby="cancelOrderModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="cancelOrderModalLabel">Cancel Order</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    Are you sure you want to cancel this order?
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" (click)="confirmCancelOrder(order)" data-dismiss="modal">Confirm Cancel</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div  *ngIf="!loading && (!orderedProducts || orderedProducts.length === 0)">
  <h5>Your haven't places any orders</h5>
</div>